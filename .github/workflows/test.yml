name: Go Test

on:
    push:
        branches: [main]
    pull_request:
        branches: [main]

jobs:
    test:
        runs-on: ubuntu-latest
        steps:
            - name: Set up Go 1.x
              uses: actions/setup-go@v2
              with:
                  go-version: ^1.18
            - name: Check out code into the Go module directory
              uses: actions/checkout@v2
            - name: Get dependencies
              run: go get -v -t ./...
            - name: Test
              run: go test ./cmd/app/...
